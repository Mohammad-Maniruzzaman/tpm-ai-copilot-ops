version: '3.9'

services:
  reactor-api:
    build: ../
    container_name: reactor-api
    ports:
      - "8000:8000"
    environment:
      - AWS_REGION=us-east-1
      - MODEL_ID=anthropic.claude-3-sonnet
    volumes:
      - ../src:/app/src

  # Local vector DB simulation
  opensearch:
    image: opensearchproject/opensearch:2.11.0
    container_name: reactor-vector-db
    ports:
      - "9200:9200"
    environment:
      - discovery.type=single-node
